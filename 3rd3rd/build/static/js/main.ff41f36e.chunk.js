(this["webpackJsonpimage-community"]=this["webpackJsonpimage-community"]||[]).push([[0],{72:function(e,t,n){},73:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var i=n(3),c=n.n(i),r=n(33),o=n.n(r),a=(n(72),n(73),n(42)),s=n(44),u=n(39),l=n(57),d=n(26),j=n(8),b=n(111),p=n(109),f=n(11),h=n(20),x=(n(74),n(92),n(93),n(76),{apiKey:"AIzaSyC0zTbrjRdz0dS8GUvQvyRfc6WxIavlhWU",authDomain:"image-community-6dec8.firebaseapp.com",projectId:"image-community-6dec8",storageBucket:"image-community-6dec8.appspot.com",messagingSenderId:"1032440629457",appId:"1:1032440629457:web:40f263baac7ff369afddf0",measurementId:"G-NQPT8X7G4P"});h.a.initializeApp(x);var g,O,m,_,v,w,y=x.apiKey,k=h.a.auth(),C=h.a.firestore(),E=h.a.storage(),z=h.a.database(),F="LOG_OUT",P="GET_USER",S="SET_USER",D=Object(b.a)(F,(function(e){return{user:e}})),I=(Object(b.a)(P,(function(e){return{user:e}})),Object(b.a)(S,(function(e){return{user:e}}))),T=Object(p.a)((g={},Object(j.a)(g,S,(function(e,t){return Object(f.b)(e,(function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),document.cookie="".concat(e,"=").concat(t,"; expires=").concat(i.toUTCString())}("is_login","success"),e.user=t.payload.user,e.is_login=!0}))})),Object(j.a)(g,F,(function(e,t){return Object(f.b)(e,(function(e){!function(e){var t=new Date("2020-01-01").toUTCString();console.log(t),document.cookie=e+"=; expires="+t}("is_login"),e.user=null,e.is_login=!1}))})),Object(j.a)(g,P,(function(e,t){return Object(f.b)(e,(function(e){}))})),g),{user:null,is_login:!1}),L=function(e,t,n){return function(i,c,r){var o=r.history;k.createUserWithEmailAndPassword(e,t).then((function(t){console.log(t),k.currentUser.updateProfile({displayName:n}).then((function(){i(I({user_name:n,id:e,user_profile:"",uid:t.user.uid})),o.push("/")})).catch((function(e){console.log(e)}))})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)}))}},A=function(e,t){return function(n,i,c){var r=c.history;k.setPersistence(h.a.auth.Auth.Persistence.SESSION).then((function(i){k.signInWithEmailAndPassword(e,t).then((function(t){console.log(t),n(I({user_name:t.user.displayName,id:e,user_profile:"",uid:t.user.uid})),r.push("/")})).catch((function(e){var t=e.code,n=e.message;console.log(t,n)}))}))}},U=function(){return function(e,t,n){n.history;k.onAuthStateChanged((function(t){e(t?I({user_name:t.displayName,user_profile:"",id:t.email,uid:t.uid}):D())}))}},B=function(){return function(e,t,n){var i=n.history;k.signOut().then((function(){e(D()),i.replace("/")}))}},N=n(50),Y=n(4),M=n(28),R=n.n(M),W="UPLOADING",G="UPLOAD_IMAGE",q="SET_PREVIEW",K=Object(b.a)(W,(function(e){return{uploading:e}})),V=Object(b.a)(G,(function(e){return{image_url:e}})),X=Object(b.a)(q,(function(e){return{preview:e}})),J=Object(p.a)((O={},Object(j.a)(O,G,(function(e,t){return Object(f.a)(e,(function(e){e.image_url=t.payload.image_url,e.uploading=!1}))})),Object(j.a)(O,W,(function(e,t){return Object(f.a)(e,(function(e){e.uploading=t.payload.uploading}))})),Object(j.a)(O,q,(function(e,t){return Object(f.a)(e,(function(e){e.preview=t.payload.preview}))})),O),{image_url:"",uploading:!1,preview:null}),Z={uploadImage:V,uploadImageFB:function(e){return function(t,n,i){i.history;t(K(!0)),E.ref("images/".concat(e.name)).put(e).then((function(e){console.log(e),e.ref.getDownloadURL().then((function(e){t(V(e)),console.log(e)}))}))}},setPreview:X},H="SET_POST",Q="ADD_POST",$="EDIT_POST",ee="LOADING",te="DELETE_POST",ne=C.collection("post"),ie=Object(b.a)(H,(function(e,t){return{post_list:e,paging:t}})),ce=Object(b.a)(Q,(function(e){return{post:e}})),re=Object(b.a)($,(function(e,t){return{post_id:e,post:t}})),oe=Object(b.a)(ee,(function(e){return{is_loading:e}})),ae=Object(b.a)(te,(function(e){return{post_id:e}})),se={image_url:"https://pds.joongang.co.kr/news/component/htmlphoto_mmdata/202111/07/762ce144-d666-4790-8609-c78416910e88.jpg",contents:"",comment_cnt:0,insert_dt:R()().format("YYYY-MM-DD hh:mm:ss"),like_cnt:0,layout:"bottom"},ue=Object(p.a)((m={},Object(j.a)(m,H,(function(e,t){return Object(f.b)(e,(function(e){var n;(n=e.list).push.apply(n,Object(N.a)(t.payload.post_list)),e.list=e.list.reduce((function(e,t){return-1===e.findIndex((function(e){return e.id===t.id}))?[].concat(Object(N.a)(e),[t]):(e[e.findIndex((function(e){return e.id===t.id}))]=t,e)}),[]),t.payload.paging&&(e.paging=t.payload.paging),e.is_loading=!1}))})),Object(j.a)(m,Q,(function(e,t){return Object(f.b)(e,(function(e){e.list.unshift(t.payload.post)}))})),Object(j.a)(m,$,(function(e,t){return Object(f.b)(e,(function(e){var n=e.list.findIndex((function(e){return e.id===t.payload.post_id}));e.list[n]=Object(Y.a)(Object(Y.a)({},e.list[n]),t.payload.post)}))})),Object(j.a)(m,ee,(function(e,t){return Object(f.b)(e,(function(e){e.is_loading=t.payload.is_loading}))})),Object(j.a)(m,te,(function(e,t){return Object(f.b)(e,(function(e){e.list=e.list.filter((function(e){return e.id!==t.payload.post_id}))}))})),m),{list:[],paging:{start:null,next:null,size:3},is_loading:!1}),le={setPost:ie,addPost:ce,editPost:re,getPostFB:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return function(n,i,c){c.history;var r=i().post.paging;if(!r.start||r.next){n(oe(!0));var o=C.collection("post").orderBy("insert_dt","desc");e&&(o=o.startAt(e)),o.limit(t+1).get().then((function(e){var i=[],c={start:e.docs[0],next:e.docs.length===t+1?e.docs[e.docs.length-1]:null,size:t};e.forEach((function(e){var t=e.data(),n=Object.keys(t).reduce((function(e,n){return-1!==n.indexOf("user_")?Object(Y.a)(Object(Y.a)({},e),{},{user_info:Object(Y.a)(Object(Y.a)({},e.user_info),{},Object(j.a)({},n,t[n]))}):Object(Y.a)(Object(Y.a)({},e),{},Object(j.a)({},n,t[n]))}),{id:e.id,user_info:{}});i.push(n)})),i.pop(),console.log(i),n(ie(i,c))}))}}},addPostFB:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return function(n,i,c){var r=c.history,o=C.collection("post"),a=i().user.user,s={user_name:a.user_name,user_id:a.uid,user_profile:a.user_profile},u=Object(Y.a)(Object(Y.a)({},se),{},{contents:e,insert_dt:R()().format("YYYY-MM-DD hh:mm:ss"),layout:t}),l=i().image.preview;console.log(l),console.log(typeof l),E.ref("images/".concat(s.user_id,"_").concat((new Date).getTime())).putString(l,"data_url").then((function(e){e.ref.getDownloadURL().then((function(e){return console.log(e),e})).then((function(e){o.add(Object(Y.a)(Object(Y.a)(Object(Y.a)({},s),u),{},{image_url:e})).then((function(t){var i=Object(Y.a)(Object(Y.a)({user_info:s},u),{},{id:t.id,image_url:e});n(ce(i)),r.replace("/"),n(Z.setPreview(null))})).catch((function(e){window.alert("\uc557! \ud3ec\uc2a4\ud2b8 \uc791\uc131\uc5d0 \ubb38\uc81c\uac00 \uc788\uc5b4\uc694!"),console.log("post \uc791\uc131\uc5d0 \uc2e4\ud328\ud588\uc5b4\uc694!",e)}))})).catch((function(e){window.alert("\uc557! \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc\uc5d0 \ubb38\uc81c\uac00 \uc788\uc5b4\uc694!"),console.log("\uc557! \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc\uc5d0 \ubb38\uc81c\uac00 \uc788\uc5b4\uc694!",e)}))}))}},editPostFB:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,i,c){var r=c.history;if(e){var o=i().image.preview,a=i().post.list.findIndex((function(t){return t.id===e})),s=i().post.list[a];console.log(s);var u=C.collection("post");if(o!==s.image_url){var l=i().user.user.uid;E.ref("images/".concat(l,"_").concat((new Date).getTime())).putString(o,"data_url").then((function(i){i.ref.getDownloadURL().then((function(e){return console.log(e),e})).then((function(i){u.doc(e).update(Object(Y.a)(Object(Y.a)({},t),{},{image_url:i})).then((function(c){n(re(e,Object(Y.a)(Object(Y.a)({},t),{},{image_url:i}))),r.replace("/")}))})).catch((function(e){window.alert("\uc557! \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc\uc5d0 \ubb38\uc81c\uac00 \uc788\uc5b4\uc694!"),console.log("\uc557! \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc\uc5d0 \ubb38\uc81c\uac00 \uc788\uc5b4\uc694!",e)}))}))}else u.doc(e).update(t).then((function(i){n(re(e,Object(Y.a)({},t))),r.replace("/")}))}else console.log("\uac8c\uc2dc\ubb3c \uc815\ubcf4\uac00 \uc5c6\uc5b4\uc694!")}},getOnePostFB:function(e){return function(t,n,i){i.history;C.collection("post").doc(e).get().then((function(e){console.log(e),console.log(e.data());var n=e.data(),i=Object.keys(n).reduce((function(e,t){return-1!==t.indexOf("user_")?Object(Y.a)(Object(Y.a)({},e),{},{user_info:Object(Y.a)(Object(Y.a)({},e.user_info),{},Object(j.a)({},t,n[t]))}):Object(Y.a)(Object(Y.a)({},e),{},Object(j.a)({},t,n[t]))}),{id:e.id,user_info:{}});t(ie([i]))}))}},deletePostFB:function(e){return function(t,n,i){var c=i.history;ne.doc(e).delete().then((function(){c.replace("/"),t(ae(e))})).catch((function(e){console.log(e)}))}}},de="SET_COMMENT",je="ADD_COMMENT",be="LOADING",pe=Object(b.a)(de,(function(e,t){return{post_id:e,comment_list:t}})),fe=Object(b.a)(je,(function(e,t){return{post_id:e,comment:t}})),he=(Object(b.a)(be,(function(e){return{is_loading:e}})),Object(p.a)((_={},Object(j.a)(_,de,(function(e,t){return Object(f.b)(e,(function(e){e.list[t.payload.post_id]=t.payload.comment_list}))})),Object(j.a)(_,je,(function(e,t){return Object(f.b)(e,(function(e){e.list[t.payload.post_id].unshift(t.payload.comment)}))})),Object(j.a)(_,be,(function(e,t){return Object(f.b)(e,(function(e){e.is_loading=t.payload.is_loading}))})),_),{list:{},is_loading:!1})),xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t,n,i){i.history;e&&C.collection("comment").where("post_id","==",e).orderBy("insert_dt","desc").get().then((function(n){var i=[];n.forEach((function(e){i.push(Object(Y.a)(Object(Y.a)({},e.data()),{},{id:e.id}))})),t(pe(e,i))})).catch((function(e){console.log("\ub313\uae00 \uc815\ubcf4\ub97c \uac00\uc838\uc62c \uc218\uac00 \uc5c6\ub124\uc694!",e)}))}},ge=function(e,t){return function(n,i,c){c.history;var r=C.collection("comment"),o=i().user.user,a={post_id:e,user_id:o.uid,user_name:o.user_name,user_profile:o.user_profile,contents:t,insert_dt:R()().format("YYYY-MM-DD hh:mm:ss")};r.add(a).then((function(t){var c=C.collection("post"),r=i().post.list.find((function(t){return t.id===e})),o=h.a.firestore.FieldValue.increment(1);a=Object(Y.a)(Object(Y.a)({},a),{},{id:t.id}),c.doc(e).update({comment_cnt:o}).then((function(t){(n(fe(e,a)),r)&&(n(le.editPost(e,{comment_cnt:parseInt(r.comment_cnt)+1})),z.ref("noti/".concat(r.user_info.user_id,"/list")).push().set({post_id:r.id,user_name:a.user_name,image_url:r.image_url,insert_dt:a.insert_dt},(function(e){e?console.log("\uc54c\ub9bc \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc5b4\uc694!"):z.ref("noti/".concat(r.user_info.user_id)).update({read:!1})})))}))}))}},Oe="SET_LIKE",me="ADD_LIKE",_e="CANCEL_LIKE",ve=Object(b.a)(Oe,(function(e,t){return{post_id:e,user_list:t}})),we=Object(b.a)(me,(function(e,t){return{post_id:e,user_id:t}})),ye=Object(b.a)(_e,(function(e,t){return{post_id:e,user_id:t}})),ke=Object(p.a)((v={},Object(j.a)(v,Oe,(function(e,t){return Object(f.b)(e,(function(e){e.list[t.payload.post_id]=t.payload.user_list}))})),Object(j.a)(v,me,(function(e,t){return Object(f.b)(e,(function(e){e.list[t.payload.post_id].push(t.payload.user_id)}))})),Object(j.a)(v,_e,(function(e,t){return Object(f.b)(e,(function(e){e.list[t.payload.post_id]=e.list[t.payload.post_id].filter((function(e){return e!==t.payload.user_id}))}))})),v),{list:{}}),Ce=function(e){return function(t,n,i){i.history;e&&C.collection("like").where("post_id","==",e).get().then((function(n){var i=[];n.forEach((function(e){i.push(e.data().user_id)})),console.log(i),t(ve(e,i))})).catch((function(e){console.log("\uc88b\uc544\uc694 \uc815\ubcf4\ub97c \uac00\uc838\uc62c \uc218\uac00 \uc5c6\uc5b4\uc694!",e)}))}},Ee=function(e){return function(t,n,i){i.history;var c=C.collection("like"),r=n().user.user,o={user_name:r.user_name,post_id:e,user_id:r.uid,insert_dt:R()().format("YYYY-MM-DD hh:mm:ss")};c.add(o).then((function(i){var c=C.collection("post"),a=n().post.list.find((function(t){return t.id===e})),s=h.a.firestore.FieldValue.increment(1);o=Object(Y.a)(Object(Y.a)({},o),{},{id:i.id}),c.doc(e).update({like_cnt:s}).then((function(n){t(we(e,r.uid)),a&&t(le.updatePost(e,{like_cnt:parseInt(a.like_cnt)+1}))}))}))}},ze=function(e){return function(t,n,i){i.history;var c=C.collection("like"),r=n().user.user;c.where("post_id","==",e).where("user_id","==",r.uid).get().then((function(i){var o="";i.forEach((function(e){return o=e.id})),c.doc(o).delete().then((function(){var i=C.collection("post"),c=n().post.list.find((function(t){return t.id===e})),o=h.a.firestore.FieldValue.increment(-1);i.doc(e).update({like_cnt:o}).then((function(n){if(t(ye(e,r.uid)),c){if(0===parseInt(c.like_cnt))return;t(le.updatePost(e,{like_cnt:parseInt(c.like_cnt)-1}))}}))}))})).catch((function(e){console.log("\uc88b\uc544\uc694\ub97c \ucde8\uc18c\ud560 \ud3ec\uc2a4\ud2b8\ub97c \ucc3e\uc744\uc218\uac00 \uc5c6\uc5b4\uc694\u315c\u315c")}))}},Fe=Object(d.a)(),Pe=Object(u.b)({user:T,post:ue,image:J,comment:he,like:ke,router:Object(s.b)(Fe)}),Se=[l.a.withExtraArgument({history:Fe})],De=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):u.c)(u.a.apply(void 0,Se)),Ie=Object(u.d)(Pe,De),Te=n(6),Le=n(14),Ae=n(15),Ue=n(2),Be=function(e){var t=e.is_flex,n=e.width,i=e.margin,r=e.padding,o=e.bg,a=e.children,s=e.center,u=e._onClick,l={is_flex:t,width:n,margin:i,padding:r,bg:o,center:s,maxWidth:e.maxWidth};return Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsx)(Ge,Object(Y.a)(Object(Y.a)({},l),{},{onClick:u,children:a}))})};Be.defaultProps={chidren:null,is_flex:!1,width:"100%",padding:!1,margin:!1,bg:!1,center:!1,maxWidth:!1,_onClick:function(){}};var Ne,Ye,Me,Re,We,Ge=Ae.a.div(w||(w=Object(Le.a)(["\n  width: ",";\n  height: 100%;\n  box-sizing: border-box;\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"])),(function(e){return e.width}),(function(e){return e.padding?"padding: ".concat(e.padding,";"):""}),(function(e){return e.margin?"margin: ".concat(e.margin,";"):""}),(function(e){return e.bg?"background-color: ".concat(e.bg,";"):""}),(function(e){return e.is_flex?"display: flex; align-items: center; justify-content: space-between; ":""}),(function(e){return e.center?"text-align: center;":""}),(function(e){return e.maxWidth?"max-width: 1200px;":""})),qe=Be,Ke=function(e){var t=e.shape,n={src:e.src,size:e.size};return"circle"===t?Object(Ue.jsx)(He,Object(Y.a)({},n)):"big_square"===t?Object(Ue.jsx)(Qe,Object(Y.a)({},n)):"rectangle"===t?Object(Ue.jsx)(Je,{children:Object(Ue.jsx)(Ze,Object(Y.a)({},n))}):Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsx)(Xe,Object(Y.a)({},n))})};Ke.defaultProps={shape:"circle",src:"https://pds.joongang.co.kr/news/component/htmlphoto_mmdata/202111/07/762ce144-d666-4790-8609-c78416910e88.jpg",size:36};var Ve,Xe=Ae.a.div(Ne||(Ne=Object(Le.a)(["\n  --size: ",'px;\n  width: var(--size);\n  height: var(--size);\n  background-image: url("','");\n  background-size: cover;\n'])),(function(e){return e.size}),(function(e){return e.src})),Je=Ae.a.div(Ye||(Ye=Object(Le.a)(["\n    width: 100%;\n    min-width: 250px;\n"]))),Ze=Ae.a.div(Me||(Me=Object(Le.a)(['\n    position: relative;\n    padding-top: 75%;\n    overflow: hidden;\n    background-image: url("','");\n    background-size: cover;\n'])),(function(e){return e.src})),He=Ae.a.div(Re||(Re=Object(Le.a)(["\n    --size: ",'px;\n    width: var(--size);\n    height: var(--size);\n    border-radius: var(--size);\n\n    background-image: url("','");\n    background-size: cover;\n    margin: 4px;\n'])),(function(e){return e.size}),(function(e){return e.src})),Qe=Ae.a.img(We||(We=Object(Le.a)(["\n  width: 100%;\n  ","\n  min-width: 250px;\n  background-image: url(",");\n  background-size: cover;\n  margin: 10px 0;\n  @media (max-width: 280px) {\n    min-width: 150px;\n  }\n  @media (max-width: 360px) {\n    min-width: 180px;\n  }\n"])),(function(e){return e.half?"flex-basis: 50%;":""}),(function(e){return e.src})),$e=Ke,et=function(e){var t=e.bold,n=e.color,i=e.size,c=e.children,r={bold:t,color:n,size:i,margin:e.margin};return Object(Ue.jsx)(it,Object(Y.a)(Object(Y.a)({},r),{},{children:c}))};et.defaultProps={children:null,bold:!1,color:"#222831",size:"14px",margin:!1};var tt,nt,it=Ae.a.p(Ve||(Ve=Object(Le.a)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  ","\n"])),(function(e){return e.color}),(function(e){return e.size}),(function(e){return e.bold?"600":"400"}),(function(e){return e.margin?"margin: ".concat(e.margin,";"):""})),ct=et,rt=function(e){var t=e.label,n=e.placeholder,i=e._onChange,r=e.type,o=e.multiLine,a=e.value,s=e.is_submit,u=e.onSubmit;return o?Object(Ue.jsxs)(qe,{children:[t&&Object(Ue.jsx)(ct,{margin:"0px",children:t}),Object(Ue.jsx)(st,{rows:10,value:a,placeholder:n,onChange:i})]}):Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsxs)(qe,{children:[t&&Object(Ue.jsx)(ct,{margin:"0px",children:t}),s?Object(Ue.jsx)(ut,{type:r,placeholder:n,onChange:i,value:a,onKeyPress:function(e){"Enter"===e.key&&u(e)}}):Object(Ue.jsx)(ut,{type:r,placeholder:n,onChange:i})]})})};rt.defaultProps={multiLine:!1,label:!1,placeholder:"\ud14d\uc2a4\ud2b8\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",type:"text",value:"",is_submit:!1,onSubmit:function(){},_onChange:function(){}};var ot,at,st=Ae.a.textarea(tt||(tt=Object(Le.a)(["\n  border: 1px solid #212121;\n  width: 100%;\n  padding: 12px 4px;\n  box-sizing: border-box;\n"]))),ut=Ae.a.input(nt||(nt=Object(Le.a)(["\n  border: 1px solid #212121;\n  width: 100%;\n  padding: 12px 4px;\n  box-sizing: border-box;\n"]))),lt=rt,dt=function(e){var t=e.text,n=e._onClick,i=e.is_float,r=e.children,o={margin:e.margin,width:e.width,padding:e.padding};return i?Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsx)(ft,{onClick:n,children:t||r})}):Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsx)(pt,Object(Y.a)(Object(Y.a)({},o),{},{onClick:n,children:t||r}))})};dt.defaultProps={text:!1,children:null,_onClick:function(){},is_float:!1,margin:!1,width:"100%",padding:"12px 0px"};var jt,bt,pt=Ae.a.button(ot||(ot=Object(Le.a)(["\n  width: ",";\n  background-color: #212121;\n  color: #ffffff;\n  padding: ",";\n  box-sizing: border-box;\n  border: none;\n  ","\n"])),(function(e){return e.width}),(function(e){return e.padding}),(function(e){return e.margin?"margin: ".concat(e.margin,";"):""})),ft=Ae.a.button(at||(at=Object(Le.a)(["\n  width: 50px;\n  height: 50px;\n  background-color: #212121;\n  color: #ffffff;\n  box-sizing: border-box;\n  font-size: 36px;\n  font-weight: 800;\n  position: fixed;\n  bottom: 50px;\n  right: 16px;\n  text-align: center;\n  vertical-align: middle;\n  border: none;\n  border-radius: 50px;\n"]))),ht=dt,xt=function(e){var t=e.type,n=e.size,i=e.is_dim;return Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsx)(gt,{type:t,is_dim:i,children:Object(Ue.jsx)(Ot,{size:n})})})};xt.defaultProps={type:"inline",is_dim:!1,size:60};var gt=Ae.a.div(jt||(jt=Object(Le.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px 0;\n  ","\n  ","\n"])),(function(e){return"page"===e.type?"position: fixed;\n        height: 95vh;\n        top: 0;\n        left: 0;\n        padding: 0;\n        zIndex: 9999;":""}),(function(e){return e.is_dim?"\n     background: rgba(0,0,0,0.4); \n     height: 100vh;\n  ":""})),Ot=Ae.a.div(bt||(bt=Object(Le.a)(["\n  --size: ","px;\n  width: var(--size);\n  height: var(--size);\n  background-image: url(http://react.rocks/images/converted/react-spinner.jpg);\n  background-size: var(--size);\n"])),(function(e){return e.size})),mt=xt,_t=n(10),vt=n(61),wt=n.n(vt),yt={padding:"10px"},kt=function(e){var t=Object(Te.d)(),n=Object(Te.e)((function(e){return e.like.list})),r=Object(Te.e)((function(e){return e.user.user})),o="firebase:authUser:".concat(y,":[DEFAULT]"),a=!!sessionStorage.getItem(o),s=e.post_id;c.a.useEffect((function(){var e;null!==(e=n[s])&&void 0!==e&&e.includes(null===r||void 0===r?void 0:r.uid)?j(!0):j(!1)}),[]);var u=Object(i.useState)(!1),l=Object(_t.a)(u,2),d=l[0],j=l[1];return Object(Ue.jsx)(Ue.Fragment,{children:Object(Ue.jsx)(ct,{_onClick:function(){var e,i;if(!r||!a)return Fe.replace("/caution");null!==(e=n[s])&&void 0!==e&&e.includes(r.uid)?null!==(i=n[s])&&void 0!==i&&i.includes(r.uid)&&t(ze(s)):t(Ee(s))},children:Object(Ue.jsx)(wt.a,{style:d?Object(Y.a)({color:"pink"},yt):Object(Y.a)({color:"grey"},yt)})})})},Ct=function(e){var t=Object(Te.d)(),n=(Object(Te.e)((function(e){return e.like.list})),e.user_info,e.image_url),i=e.contents,r=e.like_cnt,o=(e.insert_dt,e.id),a=e.layout,s=e.comment_cnt;return c.a.useEffect((function(){t(Ce(o))}),[]),Object(Ue.jsxs)(c.a.Fragment,{children:[Object(Ue.jsx)(qe,{children:Object(Ue.jsxs)(qe,{is_flex:!0,padding:"16px",children:[Object(Ue.jsxs)(qe,{is_flex:!0,width:"auto",children:[Object(Ue.jsx)($e,{shape:"circle",src:e.src}),Object(Ue.jsx)(ct,{bold:!0,children:e.user_info.user_name})]}),Object(Ue.jsxs)(qe,{is_flex:!0,width:"auto",children:[Object(Ue.jsx)(ct,{children:e.insert_dt}),e.is_me&&Object(Ue.jsx)(ht,{width:"auto",margin:"4px",padding:"4px",_onClick:function(t){t.stopPropagation(),Fe.push("/write/".concat(e.id))},children:"\uc218\uc815"})]})]})}),"right"===a&&Object(Ue.jsxs)(qe,{children:[Object(Ue.jsxs)(qe,{is_flex:!0,_onClick:function(){Fe.push("/post/".concat(o))},children:[Object(Ue.jsx)(ct,{margin:"10px",width:"80%",center:!0,size:"15px",children:i}),Object(Ue.jsx)($e,{half:!0,shape:"big_square",src:n})]}),Object(Ue.jsxs)(qe,{is_flex:!0,padding:"5px",children:[Object(Ue.jsxs)(qe,{is_flex:!0,padding:"5px",width:"150px",children:[Object(Ue.jsxs)(ct,{children:["\uc88b\uc544\uc694 ",r,"\uac1c"]}),Object(Ue.jsxs)(ct,{children:["\ub313\uae00 ",s,"\uac1c"]})]}),Object(Ue.jsx)(kt,{post_id:o})]})]}),"left"===a&&Object(Ue.jsxs)(qe,{children:[Object(Ue.jsxs)(qe,{is_flex:!0,_onClick:function(){Fe.push("/post/".concat(o))},children:[Object(Ue.jsx)($e,{half:!0,shape:"big_square",src:n}),Object(Ue.jsx)(ct,{margin:"10px",width:"80%",center:!0,children:i})]}),Object(Ue.jsxs)(qe,{is_flex:!0,padding:"5px",children:[Object(Ue.jsxs)(qe,{is_flex:!0,padding:"5px",width:"150px",children:[Object(Ue.jsxs)(ct,{children:["\uc88b\uc544\uc694 ",r,"\uac1c"]}),Object(Ue.jsxs)(ct,{children:["\ub313\uae00 ",s,"\uac1c"]})]}),Object(Ue.jsx)(kt,{post_id:o})]})]}),"bottom"===a&&Object(Ue.jsxs)(qe,{children:[Object(Ue.jsxs)(qe,{_onClick:function(){Fe.push("/post/".concat(o))},children:[Object(Ue.jsx)(ct,{margin:"10px",children:i}),Object(Ue.jsx)($e,{shape:"rectangle",src:n})]}),Object(Ue.jsxs)(qe,{is_flex:!0,padding:"5px",children:[Object(Ue.jsxs)(qe,{is_flex:!0,padding:"5px",width:"150px",children:[Object(Ue.jsxs)(ct,{children:["\uc88b\uc544\uc694 ",r,"\uac1c"]}),Object(Ue.jsxs)(ct,{children:["\ub313\uae00 ",s,"\uac1c"]})]}),Object(Ue.jsx)(kt,{post_id:o})]})]})]})};Ct.defaultProps={user_info:{user_name:"Jay",user_profile:"https://pds.joongang.co.kr/news/component/htmlphoto_mmdata/202111/07/762ce144-d666-4790-8609-c78416910e88.jpg"},image_url:"https://pds.joongang.co.kr/news/component/htmlphoto_mmdata/202111/07/762ce144-d666-4790-8609-c78416910e88.jpg",contents:"\uadc0\uc694\ubbf8 \u314e\u314e",comment_cnt:10,like_cnt:0,insert_dt:"2021-02-27 10:00:00",is_me:!1};var Et=Ct,zt=n(38),Ft=n.n(zt),Pt=function(e){e.children;var t=e.callNext,n=e.is_next,i=e.loading,r=Ft.a.throttle((function(){if(!i){var e=window.innerHeight;document.body.scrollHeight-e-(document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)<200&&t()}}),300),o=c.a.useCallback(r,[i]);return c.a.useEffect((function(){if(!i)return n?window.addEventListener("scroll",o):window.removeEventListener("scroll",o),function(){return window.removeEventListener("scroll",o)}}),[n,i]),Object(Ue.jsxs)(c.a.Fragment,{children:[e.children,n&&Object(Ue.jsx)(mt,{})]})};Pt.defaultProps={children:null,callNext:function(){},is_next:!1,loading:!1};var St=Pt,Dt=function(e){var t=Object(Te.d)(),n=Object(Te.e)((function(e){return e.post.list})),i=Object(Te.e)((function(e){return e.user.user})),r=Object(Te.e)((function(e){return e.post.is_loading})),o=Object(Te.e)((function(e){return e.post.paging})),a=e.history;return c.a.useEffect((function(){n.length<2&&t(le.getPostFB())}),[]),Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsx)(qe,{bg:"#EFF6FF",padding:"20px 0px",children:Object(Ue.jsx)(St,{callNext:function(){t(le.getPostFB(o.next))},is_next:!!o.next,loading:r,children:n.map((function(e,t){return e.user_info.user_id===(null===i||void 0===i?void 0:i.uid)?Object(Ue.jsx)(qe,{bg:"#ffffff",margin:"8px 0px",_onClick:function(){a.push("/post/".concat(e.id))},children:Object(Ue.jsx)(Et,Object(Y.a)(Object(Y.a)({},e),{},{is_me:!0}),e.id)},e.id):Object(Ue.jsx)(qe,{bg:"#ffffff",_onClick:function(){a.push("/post/".concat(e.id))},children:Object(Ue.jsx)(Et,Object(Y.a)({},e))},e.id)}))})})})},It=function(e){return/^[0-9a-zA-Z]([-_.0-9a-zA-Z])*@[0-9a-zA-Z]([-_.0-9a-zA-z])*.([a-zA-Z])*/.test(e)},Tt=function(e){var t=Object(Te.d)(),n=c.a.useState(""),i=Object(_t.a)(n,2),r=i[0],o=i[1],a=c.a.useState(""),s=Object(_t.a)(a,2),u=s[0],l=s[1],d=function(){console.log(r),""!==r&&""!==u?It(r)?t(A(r,u)):window.alert("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4!"):window.alert("\uc544\uc774\ub514 \ud639\uc740 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694!")};return Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsxs)(qe,{padding:"16px",children:[Object(Ue.jsx)(ct,{size:"32px",bold:!0,children:"\ub85c\uadf8\uc778"}),Object(Ue.jsx)(qe,{padding:"16px 0px",children:Object(Ue.jsx)(lt,{label:"\uc544\uc774\ub514",placeholder:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",_onChange:function(e){o(e.target.value)}})}),Object(Ue.jsx)(qe,{padding:"16px 0px",children:Object(Ue.jsx)(lt,{label:"\ud328\uc2a4\uc6cc\ub4dc",placeholder:"\ud328\uc2a4\uc6cc\ub4dc \uc785\ub825\ud574\uc8fc\uc138\uc694.",type:"password",_onChange:function(e){l(e.target.value)},value:u,is_submit:!0,onSubmit:d})}),Object(Ue.jsx)(ht,{text:"\ub85c\uadf8\uc778\ud558\uae30",_onClick:function(){console.log("\ub85c\uadf8\uc778 \ud588\uc5b4!"),d()}})]})})},Lt=function(e){var t=Object(Te.d)(),n=c.a.useState(""),i=Object(_t.a)(n,2),r=i[0],o=i[1],a=c.a.useState(""),s=Object(_t.a)(a,2),u=s[0],l=s[1],d=c.a.useState(""),j=Object(_t.a)(d,2),b=j[0],p=j[1],f=c.a.useState(""),h=Object(_t.a)(f,2),x=h[0],g=h[1];return Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsxs)(qe,{padding:"16px",children:[Object(Ue.jsx)(ct,{size:"32px",bold:!0,children:"\ud68c\uc6d0\uac00\uc785"}),Object(Ue.jsx)(qe,{padding:"16px 0px",children:Object(Ue.jsx)(lt,{label:"\uc544\uc774\ub514",placeholder:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",_onChange:function(e){o(e.target.value)}})}),Object(Ue.jsx)(qe,{padding:"16px 0px",children:Object(Ue.jsx)(lt,{label:"\ub2c9\ub124\uc784",placeholder:"\ub2c9\ub124\uc784\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",_onChange:function(e){g(e.target.value)}})}),Object(Ue.jsx)(qe,{padding:"16px 0px",children:Object(Ue.jsx)(lt,{type:"password",label:"\ube44\ubc00\ubc88\ud638",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.",_onChange:function(e){l(e.target.value)}})}),Object(Ue.jsx)(qe,{padding:"16px 0px",children:Object(Ue.jsx)(lt,{type:"password",label:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \ub2e4\uc2dc \uc785\ub825\ud574\uc8fc\uc138\uc694.",_onChange:function(e){p(e.target.value)}})}),Object(Ue.jsx)(ht,{text:"\ud68c\uc6d0\uac00\uc785\ud558\uae30",_onClick:function(){""!==r&&""!==u&&""!==x?It(r)?u===b?(u.length<5&&window.alert("\ud328\uc2a4\uc6cc\ub4dc\ub294 \ucd5c\uc18c 6\uc790\ub9ac \uc774\uc0c1\uc785\ub2c8\ub2e4!"),t(L(r,u,x))):window.alert("\ud328\uc2a4\uc6cc\ub4dc\uc640 \ud328\uc2a4\uc6cc\ub4dc \ud655\uc778\uc774 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4!"):window.alert("\uc774\uba54\uc77c \ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4!"):window.alert("\uc544\uc774\ub514, \ud328\uc2a4\uc6cc\ub4dc, \ub2c9\ub124\uc784\uc744 \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694!")}})]})})};Lt.defaultProps={};var At=Lt,Ut=function(e){var t=Object(Te.d)(),n=Object(Te.e)((function(e){return e.image.uploading})),i=c.a.useRef();return Object(Ue.jsxs)(c.a.Fragment,{children:[Object(Ue.jsx)("input",{type:"file",onChange:function(e){console.log(e),console.log(e.target),console.log(e.target.files[0]),console.log(i.current.files[0]);var n=new FileReader,c=i.current.files[0];n.readAsDataURL(c),n.onloadend=function(){console.log(n.result),t(Z.setPreview(n.result))}},ref:i,disabled:n}),Object(Ue.jsx)(ht,{_onClick:function(){var e=i.current.files[0];t(Z.uploadImageFB(e))},children:"\uc5c5\ub85c\ub4dc\ud558\uae30"})]})},Bt=function(e){var t=Object(Te.d)(),n=Object(Te.e)((function(e){return e.user.is_login})),r=Object(Te.e)((function(e){return e.image.preview})),o=Object(Te.e)((function(e){return e.post.list})),a=e.match.params.id,s=!!a,u=s?o.find((function(e){return e.id===a})):null,l=Object(i.useState)(u?u.layout:"bottom"),d=Object(_t.a)(l,2),j=d[0],b=d[1],p=Object(i.useState)(u?u.contents:""),f=Object(_t.a)(p,2),h=f[0],x=f[1],g=e.history,O=Object(i.useState)(u?u.contents:""),m=Object(_t.a)(O,2);m[0],m[1];c.a.useEffect((function(){if(s&&!u)return console.log("\ud3ec\uc2a4\ud2b8 \uc815\ubcf4\uac00 \uc5c6\uc5b4\uc694!"),void g.goBack();s&&t(Z.setPreview(u.image_url))}),[]);var _=function(e){b(e.target.value)};return n?Object(Ue.jsxs)(c.a.Fragment,{children:[Object(Ue.jsxs)(qe,{padding:"16px",children:[Object(Ue.jsx)(ct,{margin:"0px",size:"36px",bold:!0,children:s?"\uac8c\uc2dc\uae00 \uc218\uc815":"\uac8c\uc2dc\uae00 \uc791\uc131"}),Object(Ue.jsx)(Ut,{}),Object(Ue.jsx)(ct,{size:"25px",bold:!0,margin:"25px 0px",children:"\uc138\uac1c\uc758 \ub808\uc774\uc544\uc6c3\uc911 \ud55c\uac00\uc9c0\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694!"})]}),Object(Ue.jsxs)(qe,{padding:"16px",children:[Object(Ue.jsx)("input",{type:"radio",name:"layout",value:"right",id:"right",onClick:_}),Object(Ue.jsx)("label",{htmlFor:"right",children:Object(Ue.jsx)("strong",{style:"right"===j?{color:"lightgreen",margin:"10px"}:null,children:"\uc624\ub978\ucabd\uc5d0 \uc774\ubbf8\uc9c0, \uc67c\ucabd\uc5d0 \uac8c\uc2dc\ubb3c \ub0b4\uc6a9"})})]}),Object(Ue.jsxs)(qe,{is_flex:!0,children:[Object(Ue.jsx)(ct,{width:"80%",margin:"10px",center:!0,children:h}),Object(Ue.jsx)($e,{half:!0,shape:"big_square",src:r||"http://via.placeholder.com/400x300"})]}),Object(Ue.jsxs)(qe,{padding:"16px",children:[Object(Ue.jsx)("input",{type:"radio",name:"layout",value:"left",id:"left",onClick:_}),Object(Ue.jsx)("label",{htmlFor:"left",children:Object(Ue.jsx)("strong",{style:"left"===j?{color:"lightgreen",margin:"10px"}:null,children:"\uc67c\ucabd\uc5d0 \uc774\ubbf8\uc9c0, \uc624\ub978\ucabd\uc5d0 \uac8c\uc2dc\ubb3c \ub0b4\uc6a9"})})]}),Object(Ue.jsxs)(qe,{is_flex:!0,children:[Object(Ue.jsx)($e,{half:!0,shape:"big_square",src:r||"http://via.placeholder.com/400x300"}),Object(Ue.jsx)(ct,{width:"80%",margin:"10px",center:!0,children:h})]}),Object(Ue.jsxs)(qe,{padding:"16px",children:[Object(Ue.jsx)("input",{type:"radio",name:"layout",value:"bottom",id:"bottom",onClick:_,style:{color:"lightgreen"}}),Object(Ue.jsxs)("label",{htmlFor:"bottom",children:[" ",Object(Ue.jsx)("strong",{style:"bottom"===j?{color:"lightgreen",margin:"10px"}:null,children:"\ud558\ub2e8\uc5d0 \uc774\ubbf8\uc9c0, \uc0c1\ub2e8\uc5d0 \uac8c\uc2dc\ubb3c \ub0b4\uc6a9"})]})]}),Object(Ue.jsxs)(qe,{children:[Object(Ue.jsx)(ct,{margin:"10px",children:h}),Object(Ue.jsx)($e,{shape:"big_square",src:r||"http://via.placeholder.com/400x300"})]}),Object(Ue.jsxs)(qe,{padding:"16px",children:[Object(Ue.jsx)(lt,{textarea:!0,value:h,onChange:_,label:"\uac8c\uc2dc\uae00 \ub0b4\uc6a9",placeholder:"\uac8c\uc2dc\uae00 \uc791\uc131",multiLine:!0,_onChange:function(e){x(e.target.value)}}),s?Object(Ue.jsx)(ht,{_onClick:function(){t(le.editPostFB(a,{contents:h,layout:j}))},_disabled:!r||""===h,children:"\uac8c\uc2dc\uae00 \uc218\uc815"}):Object(Ue.jsx)(ht,{_onClick:function(){t(le.addPostFB(h,j))},_disabled:!r||""===h,children:"\uac8c\uc2dc\uae00 \uc791\uc131"})]})]}):Object(Ue.jsxs)(qe,{margin:"100px 0px",padding:"16px",center:!0,children:[Object(Ue.jsx)(ct,{size:"32px",bold:!0,children:"\uc7a0\uc2dc\ub9cc\uc694!"}),Object(Ue.jsx)(ct,{size:"16px",children:"\ub85c\uadf8\uc778 \ud6c4\uc5d0\ub9cc \uae00\uc744 \uc4f0\uc2e4\uc218 \uc788\uc5b4\uc694!\ud83d\ude09 "}),Object(Ue.jsx)(ht,{_onClick:function(){g.replace("/")},children:"\ub85c\uadf8\uc778 \ud558\ub7ec\uac00\uae30"})]})},Nt=function(e){var t=Object(Te.d)(),n=Object(Te.e)((function(e){return e.comment.list})),i=e.post_id;return c.a.useEffect((function(){n[i]||t(xe(i))}),[]),n[i]&&i?Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsx)(qe,{padding:"16px",children:n[i].map((function(e){return Object(Ue.jsx)(Mt,Object(Y.a)({},e),e.id)}))})}):null};Nt.defaultProps={post_id:null};var Yt=Nt,Mt=function(e){e.user_profile;var t=e.user_name,n=(e.user_id,e.post_id,e.contents),i=e.insert_dt;return Object(Ue.jsxs)(qe,{is_flex:!0,children:[Object(Ue.jsxs)(qe,{is_flex:!0,width:"auto",children:[Object(Ue.jsx)($e,{shape:"circle"}),Object(Ue.jsx)(ct,{bold:!0,children:t})]}),Object(Ue.jsxs)(qe,{is_flex:!0,margin:"0px 4px",children:[Object(Ue.jsx)(ct,{margin:"0px",children:n}),Object(Ue.jsx)(ct,{margin:"0px",children:i})]})]})};Mt.defaultProps={user_profile:"",user_name:"Jay",user_id:"",post_id:1,contents:"\uadc0\uc694\ubbf8 \ub458",insert_dt:"2021-01-01 19:00:00"};var Rt=function(e){var t=Object(Te.d)(),n=c.a.useState(),i=Object(_t.a)(n,2),r=i[0],o=i[1],a=e.post_id,s=function(){t(ge(a,r)),o("")};return Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsxs)(qe,{padding:"16px",is_flex:!0,children:[Object(Ue.jsx)(lt,{placeholder:"\ub313\uae00 \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694 :)",_onChange:function(e){o(e.target.value)},value:r,onSubmit:s,is_submit:!0}),Object(Ue.jsx)(ht,{width:"50px",margin:"0px 2px 0px 2px",_onClick:s,children:"\uc791\uc131"})]})})},Wt=function(e){var t=Object(Te.e)((function(e){return e.user.is_login})),n="firebase:authUser:".concat(y,":[DEFAULT]");return!!sessionStorage.getItem(n)&&t?Object(Ue.jsx)(c.a.Fragment,{children:e.children}):null},Gt=function(e){var t=Object(Te.d)(),n=e.match.params.id,i=Object(Te.e)((function(e){return e.user.user})),r=Object(Te.e)((function(e){return e.post.list})),o=r.findIndex((function(e){return e.id===n})),a=r[o];c.a.useEffect((function(){a||t(le.getOnePostFB(n))}),[]);return Object(Ue.jsxs)(c.a.Fragment,{children:[a&&Object(Ue.jsxs)(Ue.Fragment,{children:[Object(Ue.jsx)(Et,Object(Y.a)(Object(Y.a)({},a),{},{is_me:a.user_info.user_id===(null===i||void 0===i?void 0:i.uid)})),a.user_info.user_id===(null===i||void 0===i?void 0:i.uid)?Object(Ue.jsx)(ht,{_onClick:function(){window.alert("\uc0ad\uc81c\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),t(le.deletePostFB(n))},children:"\uc0ad\uc81c\ud558\uae30"}):null]}),Object(Ue.jsx)(Wt,{children:Object(Ue.jsx)(Rt,{post_id:n})}),Object(Ue.jsx)(Yt,{post_id:n})]})},qt=function(){var e=c.a.useState(""),t=Object(_t.a)(e,2),n=t[0],i=t[1],r=Ft.a.debounce((function(e){console.log("debounce ::: ",e.target.value)}),1e3),o=(Ft.a.throttle((function(e){console.log("throttle ::: ",e.target.value)}),1e3),c.a.useCallback(r,[]));return Object(Ue.jsx)("div",{children:Object(Ue.jsx)("input",{type:"text",onChange:function(e){i(e.target.value),o(e)},value:n})})},Kt=function(e){var t=e.image_url,n=e.user_name,i=e.post_id;return Object(Ue.jsxs)(qe,{_onClick:function(){Fe.push("/post/".concat(i))},padding:"16px",is_flex:!0,bg:"#ffffff",margin:"8px 0px",children:[Object(Ue.jsx)(qe,{width:"auto",margin:"0px 8px 0px 0px",children:Object(Ue.jsx)($e,{size:85,shape:"square",src:t})}),Object(Ue.jsx)(qe,{children:Object(Ue.jsxs)(ct,{children:[Object(Ue.jsx)("b",{children:n}),"\ub2d8\uc774 \uac8c\uc2dc\uae00\uc5d0 \ub313\uae00\uc744 \ub0a8\uacbc\uc2b5\ub2c8\ub2e4 :)!"]})})]})};Kt.defaultProps={image_url:"",user_name:"",post_id:null};var Vt=Kt,Xt=function(e){var t=Object(Te.e)((function(e){return e.user.user})),n=c.a.useState([]),i=Object(_t.a)(n,2),r=i[0],o=i[1];return c.a.useEffect((function(){t&&z.ref("noti/".concat(t.uid,"/list")).orderByChild("insert_dt").once("value",(function(e){if(e.exists()){var t=e.val(),n=Object.keys(t).reverse().map((function(e){return t[e]}));console.log(n),o(n)}}))}),[t]),Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsx)(qe,{padding:"16px",bg:"#EFF6FF",children:r.map((function(e,t){return Object(Ue.jsx)(Vt,Object(Y.a)({},e),"noti_".concat(t))}))})})},Jt=n(110),Zt=n(65),Ht=n.n(Zt),Qt=function(e){var t=c.a.useState(!0),n=Object(_t.a)(t,2),i=n[0],r=n[1],o=Object(Te.e)((function(e){return e.user.user.uid}));return c.a.useEffect((function(){var e=z.ref("noti/".concat(o));return e.on("value",(function(e){console.log(e.val()),r(e.val().read)})),function(){return e.off()}}),[]),Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsx)(Jt.a,{color:"secondary",variant:"dot",invisible:i,onClick:function(){z.ref("noti/".concat(o)).update({read:!0}),e._onClick()},children:Object(Ue.jsx)(Ht.a,{})})})};Qt.defaultProps={_onClick:function(){}};var $t=Qt,en=function(e){var t=Object(Te.d)(),n=Object(Te.e)((function(e){return e.user.is_login})),i="firebase:authUser:".concat(y,":[DEFAULT]"),r=!!sessionStorage.getItem(i);return console.log(r),n&&r?Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsxs)(qe,{is_flex:!0,padding:"4px 16px",children:[Object(Ue.jsx)(qe,{children:Object(Ue.jsx)(ct,{margin:"0px",size:"24px",bold:!0,children:"\ub3d9\ubb3c\uc758\uc655\uad6d"})}),Object(Ue.jsxs)(qe,{is_flex:!0,children:[Object(Ue.jsx)(ht,{text:"\ub0b4\uc815\ubcf4"}),Object(Ue.jsx)($t,{_onClick:function(){Fe.push("/noti")}}),Object(Ue.jsx)(ht,{text:"\ub85c\uadf8\uc544\uc6c3",_onClick:function(){t(B())}})]})]})}):Object(Ue.jsx)(c.a.Fragment,{children:Object(Ue.jsxs)(qe,{is_flex:!0,padding:"4px 16px",children:[Object(Ue.jsx)(qe,{children:Object(Ue.jsx)(ct,{margin:"0px",size:"24px",bold:!0,children:"\ub3d9\ubb3c\uc758\uc655\uad6d"})}),Object(Ue.jsxs)(qe,{is_flex:!0,children:[Object(Ue.jsx)(ht,{text:"\ub85c\uadf8\uc778",_onClick:function(){Fe.push("/login")}}),Object(Ue.jsx)(ht,{text:"\ud68c\uc6d0\uac00\uc785",_onClick:function(){Fe.push("/signup")}})]})]})})};en.defaultProps={};var tn=en,nn=function(e){return Object(Ue.jsxs)(qe,{margin:"100px 0px",padding:"16px",center:!0,children:[Object(Ue.jsx)(ct,{size:"32px",bold:!0,children:"\uc7a0\uc2dc\ub9cc\uc694~!"}),Object(Ue.jsx)(ct,{size:"16px",children:"\ub85c\uadf8\uc778 \ud6c4\uc5d0\ub9cc \uc774\uc6a9 \ud560 \uc218 \uc788\uc5b4\uc694!"}),Object(Ue.jsx)(ht,{_onClick:function(){Fe.replace("/login")},children:"\ub85c\uadf8\uc778 \ud558\ub7ec \uac00\uae30!"})]})};var cn=function(){var e=Object(Te.d)(),t="firebase:authUser:".concat(y,":[DEFAULT]"),n=!!sessionStorage.getItem(t);return c.a.useEffect((function(){n&&e(U())}),[]),Object(Ue.jsxs)(c.a.Fragment,{children:[Object(Ue.jsxs)(qe,{maxWidth:!0,margin:"auto",children:[Object(Ue.jsx)(tn,{}),Object(Ue.jsxs)(s.a,{history:Fe,children:[Object(Ue.jsx)(a.a,{path:"/",exact:!0,component:Dt}),Object(Ue.jsx)(a.a,{path:"/login",exact:!0,component:Tt}),Object(Ue.jsx)(a.a,{path:"/signup",exact:!0,component:At}),Object(Ue.jsx)(a.a,{path:"/write",exact:!0,component:Bt}),Object(Ue.jsx)(a.a,{path:"/write/:id",exact:!0,component:Bt}),Object(Ue.jsx)(a.a,{path:"/post/:id",exact:!0,component:Gt}),Object(Ue.jsx)(a.a,{path:"/search",exact:!0,component:qt}),Object(Ue.jsx)(a.a,{path:"/noti",exact:!0,component:Xt}),Object(Ue.jsx)(a.a,{path:"/caution",exact:!0,component:nn})]})]}),Object(Ue.jsx)(Wt,{children:Object(Ue.jsx)(ht,{is_float:!0,text:"+",_onClick:function(){Fe.push("/write")}})})]})},rn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,112)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),c(e),r(e),o(e)}))};o.a.render(Object(Ue.jsx)(Te.a,{store:Ie,children:Object(Ue.jsx)(cn,{})}),document.getElementById("root")),rn()}},[[90,1,2]]]);
//# sourceMappingURL=main.ff41f36e.chunk.js.map